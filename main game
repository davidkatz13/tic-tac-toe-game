#step 1: Create the function, that prints the game board

from IPython.display import clear_output

def display_board(board):
    clear_output()
    print('   | |  ')
    print('  ' + board[1] + '|' + board[2] + '|' + board[3])
    print('   | |  ')
    print(' -------')
    print('   | |  ')
    print('  ' + board[4] + '|' + board[5] + '|' + board[6])
    print('   | |  ')
    print(' -------')
    print('   | |  ')
    print('  ' + board[7] + '|' + board[8] + '|' + board[9])
    print('   | |  ')
		
#step 2: Take player input and assign the marker either to X or O

def player_input():
    marker=''
    
    while not (marker=='X' or marker=='O'):
        marker=input('Which letter you want to play with X or O? ')
        
        if not (marker=='X' or marker=='O'):
            print('Sorry you can choose only X or O')
            
    if marker=='X':
        return ('X','O')
    else:
        return ('O','X')
				
#step 3: Assign the marker to the board

def place_marker(board, marker, position):
    
    board[position]=marker

#step 4: Check if the player won

def win_check(board, mark):
    return((board[1]==mark and board[2]==mark and board[3]==mark) or 
           (board[4]==mark and board[5]==mark and board[6]==mark) or 
           (board[7]==mark and board[8]==mark and board[9]==mark) or 
           (board[1]==mark and board[4]==mark and board[7]==mark) or 
           (board[2]==mark and board[5]==mark and board[8]==mark) or
           (board[3]==mark and board[6]==mark and board[9]==mark) or 
           (board[1]==mark and board[5]==mark and board[9]==mark) or 
           (board[3]==mark and board[5]==mark and board[7]==mark)) 
					 
# step 5: Random assignment of which of the players go first

import random

def choose_first():
    player=random.randint(1,2)
    if player==1:
        print('The player 1 goes first!')
    else:
        print('The player 2 goes first!')

# step 6: Function that checks if the space on the board available

def space_check(board, position):
    return board[position]==" "
		
#step 7: Checks if the board is full, True if full and False if empty

def full_board_check(board):
    for i in range(1,10):
        if space_check(board,i):
            return False
    return True

#step 8: Function that asks for the players next position

def player_choice(board):
    position=0
    while position not in [1,2,3,4,5,6,7,8,9] and not space_check(board, position):
        position=int(input('Choose the position between 1-9: '))
    
    return int(position)
		
#step 9: Function that asks if players want to play one more time.

def replay():
    new_game=' '
    while not (new_game=='yes' or new_game=='no'):
        
        new_game=input('Do you want to play one more game, yes or no? ')
    
        if not (new_game=='yes' or new_game=='no'):
            print('Sorry, you can choose only between yes or no')
    
    if new_game=='yes':
        return True
    else:
        return False
				
#step 10: Logic of the game

print('Welcome to Tic Tac Toe!')

while True:
    #create var's that we need for the game
    The_board=10*[' ']
    Player1, Player2=player_input()
    turn=choose_first()
    print(turn)
    game_start=input('Do you want to play the game? ')
        
    if game_start=='Yes':
        game_on=True
    else:
        game_on=False
    
    
    while game_on:
        
        #player 1 turn 
        if turn=='Player 1':
            display_board(The_board)
        
            position=player_choice(The_board)
        
            place_marker(The_board,Player1,position)
        
            if win_check(The_board, Player1):
                display_board(The_board)
                print('Player 1 has won, congratulations!')
                game_on=False
            else:
                if full_board_check(The_board):
                    display_board(The_board)
                    print("You ended the game in draw guys!")
                    break
                else:
                    turn='Player 2'
         #player 2 turn            
        else:
            display_board(The_board)
        
            position=player_choice(The_board)
            
            place_marker(The_board, Player2, position)
            
            if win_check(The_board,Player2):
                display_board(The_board)
                print('Player 2 you won the game, congratulations!')
                game_on=False
            else:
                if full_board_check(The_board):
                    display_board(The_board)
                    print('You ended the game in draw peepz!')
                    break
                else:
                    turn='Player 1'
                    
    if not replay():
        break


		
		
